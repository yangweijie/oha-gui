# main2.php UI 构成分析

## 整体布局结构

main2.php 使用了嵌套的 Box 和 Group 布局来创建一个复杂的用户界面，整体采用垂直和水平组合的布局方式。

### 主要布局组件

1. **主窗口 (Main Window)**
   - 标题: 'OHA GUI Tool'
   - 尺寸: 600x400
   - 包含一个带有边距的主垂直 Box

2. **主垂直 Box**
   - 包含两个水平 Box:
     - 顶部水平 Box (输入和结果区域)
     - 底部水平 Box (测试输出区域)

## 顶部区域布局

### 顶部水平 Box
- 包含两个 Group 组件并排显示:
  1. **输入组 (Input Group)** - 左侧，不扩展
  2. **结果组 (Results Group)** - 右侧，扩展填充

### 输入组 (Input Group)
- 标题: "输入"
- 内部结构:
  1. **配置选择行** - 水平布局
     - 配置标签 (Label)
     - 可编辑下拉框 (EditableCombobox) - 用于选择配置
     - 管理按钮 (Button) - "管理"
  2. **控制按钮行** - 水平布局
     - 开始按钮 (Button) - "开始"
     - 停止按钮 (Button) - "停止" (初始禁用)
  3. **进度条** (ProgressBar) - 初始隐藏

### 结果组 (Results Group)
- 标题: "结果"
- 内部结构:
  1. 结果文本标签 (Label) - 显示测试结果统计信息
  2. 结果组垂直 Box

## 底部区域布局

### 底部水平 Box
- 包含一个 Group 组件:

### 输出组 (Output Group)
- 标题: "测试输出"
- 内部结构:
  1. 输出标签 (Label) - 显示测试输出内容，初始文本为 "Test output will appear here..."

## 配置管理窗口

点击"管理"按钮会打开一个独立的配置管理窗口，包含以下组件:

1. **表单区域**
   - 垂直布局，包含配置字段:
     - Name (名称)
     - URL (测试地址)
     - Concurrent Connections (并发连接数)
     - Duration (持续时间)
     - Timeout (超时时间)
   - 每个字段都有对应的标签和输入框 (Entry)
   - 保存按钮 (Button) - "Save Configuration"

2. **搜索区域**
   - 水平布局:
     - 搜索输入框 (Entry)
     - 搜索按钮 (Button) - "Search"

3. **配置表格**
   - 显示所有配置的表格，包含以下列:
     - Name (名称)
     - URL (地址)
     - Concurrent Connections (并发连接数)
     - Duration (持续时间)
     - Timeout (超时时间)
     - Action (操作列，包含 Select 按钮)
     - Delete (删除列，包含 Delete 按钮)

## 交互功能

1. **配置管理**
   - 通过"管理"按钮打开配置管理窗口
   - 可创建、保存、搜索和删除测试配置
   - 可选择配置并应用到主界面

2. **测试执行**
   - 点击"开始"按钮执行选定的测试配置
   - 点击"停止"按钮可中断正在运行的测试
   - 实时显示测试进度和输出
   - 测试完成后显示结果统计

3. **UI 状态管理**
   - 测试运行时禁用"开始"按钮，启用"停止"按钮
   - 测试运行时显示进度条
   - 测试完成后恢复按钮状态